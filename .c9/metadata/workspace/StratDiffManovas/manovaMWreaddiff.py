{"filter":false,"title":"manovaMWreaddiff.py","tooltip":"/StratDiffManovas/manovaMWreaddiff.py","undoManager":{"mark":11,"position":11,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":1,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":0},"end":{"row":2,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":19}},"text":"import GLMfunctions"},{"action":"insertText","range":{"start":{"row":0,"column":19},"end":{"row":1,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":0,"column":19},"end":{"row":1,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":34,"column":0},"end":{"row":34,"column":17}},"text":"    f.write('\\n')"},{"action":"removeLines","range":{"start":{"row":17,"column":0},"end":{"row":34,"column":0}},"nl":"\n","lines":["  f.write(\"DATASET COPY  proCopy WINDOW=FRONT.\\nDATASET ACTIVATE proCopy.\\n\"","  for i in range(len(nameList)):","  ","    #RECODE AND COMPUTE","    nameListi = nameList[i]","    labelListi = labelList[i]    ","    recodeline = makeRecodeLine(suffix,proquestions,promain,mathread,stratdiff,nameListi)","    computelines = makeComputeLines(suffix,proquestions,promain,mathread,stratdiff,nameListi,labelListi)","  ","    s = recodeline+computelines","    ","    f.write(s)","  ","    # GLM","    text = \"GLM \" + labelListi+\"im \"+ labelListi+\"ii \"+ labelListi+\"bm \"+ labelListi+\"bi \"+\"BY sex\"","    f.write(text)","    f.write(GLMtext)"]},{"action":"insertText","range":{"start":{"row":17,"column":0},"end":{"row":17,"column":76}},"text":"  f.write(\"DATASET COPY  proCopy WINDOW=FRONT.\\nDATASET ACTIVATE proCopy.\\n\""},{"action":"insertText","range":{"start":{"row":17,"column":76},"end":{"row":18,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":18,"column":0},"end":{"row":34,"column":0}},"lines":["  for i in range(len(nameList)):","  ","    #RECODE AND COMPUTE","    nameListi = nameList[i]","    labelListi = labelList[i]    ","    recodeline = GLMfunctions.makeRecodeLine(suffix,proquestions,promain,mathread,stratdiff,nameListi)","    computelines = GLMfunctions.makeComputeLines(suffix,proquestions,promain,mathread,stratdiff,nameListi,labelListi)","  ","    s = recodeline+computelines","    ","    f.write(s)","  ","    # GLM","    text = \"GLM \" + labelListi+\"im \"+ labelListi+\"ii \"+ labelListi+\"bm \"+ labelListi+\"bi \"+\"BY sex\"","    f.write(text)","    f.write(GLMtext)"]},{"action":"insertText","range":{"start":{"row":34,"column":0},"end":{"row":34,"column":17}},"text":"    f.write('\\n')"}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":93,"column":0},"end":{"row":166,"column":0}},"nl":"\n","lines":["###############################################################################","","","def makeRecodeLine(suffix,proquestions,promain,mathread,stratdiff,nameListi):","  recodevars = \"\"","  if (mathread==\"r\"):","    for i in range(len(proquestions)):","        recodevars = recodevars+promain+mathread+suffix[i]+stratdiff+proquestions[i]+nameListi+\" \"","    recodeline = \"recode \"+recodevars+\"(1=1) (2=1) (else = 0).\\n\"","  else:","    for i in range(len(proquestions)):","        recodevars = recodevars+promain+mathread+stratdiff+suffix[i]+proquestions[i]+nameListi+\" \"","    recodeline = \"recode \"+recodevars+\"(1=1) (2=1) (else = 0).\\n\"      ","  return recodeline","  ","def makeComputeLines(suffix,proquestions,promain,mathread,stratdiff,nameListi,labelListi):","  computeLines = \"\"","  for i in range(len(suffix)):","    Vars = computeVars(suffix[i], proquestions,promain,mathread,stratdiff,nameListi)","    computeLines = computeLines + \"compute \" + labelListi + suffix[i] + \"=\" + Vars + \".\\n\"","  return computeLines","","  ","def computeVars(suffixi , proquestions,promain,mathread,stratdiff,nameListi):","  Vars = []","  if (mathread== \"r\"):","    for i in range(len(proquestions)):","      Vars.append(promain+ mathread + suffixi+ stratdiff+ proquestions[i] + nameListi)","    variables = \" + \".join(Vars)","    ","  else:","    for i in range(len(proquestions)):","      Vars.append(promain+ mathread + stratdiff+ suffixi+ proquestions[i] + nameListi)","    variables = \" + \".join(Vars)","  return variables","  ","  ","def makeGLMtext():","  text = \"\"\"","  /WSFACTOR=interest 2 Polynomial diff 2 Polynomial ","  /METHOD=SSTYPE(3) ","  /EMMEANS=TABLES(sex) COMPARE ADJ(LSD) ","  /EMMEANS=TABLES(interest) COMPARE ADJ(LSD) ","  /EMMEANS=TABLES(diff) COMPARE ADJ(LSD) ","  /EMMEANS=TABLES(sex*interest) ","  /EMMEANS=TABLES(sex*diff) ","  /EMMEANS=TABLES(interest*diff) ","  /EMMEANS=TABLES(sex*interest*diff) ","  /CRITERIA=ALPHA(.05) ","  /WSDESIGN=interest diff interest*diff ","  /DESIGN=sex.","  \"\"\"","  return text","  ","def printCompute(varlist,string,suffix,GLMtext, file):","  text = \"\"","  for suff in suffix:","    text = text + \"compute \" + string + suff + \" = (\"","    for i in range(len(varlist)):","      text = text + varlist[i] + suff","      if i < (len(varlist)-1):","        text = text + \" + \"","    text = text + \")/\" + str(len(varlist)) + \".\\n\"","  file.write(text)","  GLMlinevars = \"\"","  for suff in suffix:","    GLMlinevars = GLMlinevars + string + suff + ' '","  GLMline = \"GLM \" + GLMlinevars + \"BY sex\"","  file.write(GLMline)","  file.write(GLMtext)","  file.write('\\n')","",""]},{"action":"insertText","range":{"start":{"row":93,"column":0},"end":{"row":93,"column":1}},"text":"\\"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":93,"column":1},"end":{"row":93,"column":2}},"text":"\\"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":93,"column":1},"end":{"row":93,"column":2}},"text":"\\"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":93,"column":0},"end":{"row":93,"column":1}},"text":"\\"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":43,"column":2},"end":{"row":43,"column":15}},"text":"GLMfunctions."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":44,"column":2},"end":{"row":44,"column":15}},"text":"GLMfunctions."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":45,"column":2},"end":{"row":45,"column":15}},"text":"GLMfunctions."}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":7,"column":14},"end":{"row":7,"column":118},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1407786009090,"hash":"10c802c7686fe91caac00eb07008d610d561bfeb"}